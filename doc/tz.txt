Суть следующая:

Нужно создать три вида кабинетов.
1. Клиентский кабинет. Client
2. Админку дилера	   Dialer
3. Главную админку	   Admin
У каждого типа свои права.

Словарь
=======

User - пользователь
Client - Клиент
Dealer - Дилер
Admin - Админ
Contact_collection - Коллекция контактов
Phone - Телефоны из коллекции контактов (mongo)
Viber_Message - Рассылка Viber

Message_Contact_Collection - привязка коллекций к рассылке
Message_Phone_List - привязка телефонов к рассылке (mongo)


Price
Payment

Client
id username email token passsword 3 id_contact sum_messanger id_diler price_messanger
                                                   ^
Dialer                                            |
id username email token passsword 3 id_contact sum_messanger price_messanger image


Клиентский кабинет : Для конечных пользователей. Функционал ограничен стандартным набором.
А именно:
1) Поле для написания текста сообщения

Импорт базы номеров для рассылки (csv, excel, txt) или вставка через буфер обмена

2) Отправлять сообщения
3) Выбор на календаре даты для отправки и выбор времени отправки сообщения
3) Выбор вида сообщения для отправки по Viber (отправка картинки, отправка текста, отправка текста и картинки, текста картинки и кнопки)
4) Возможность оплаты за сообщения через личный кабинет (яндекс.деньги и qiwy кошелек)                                    ---
5) Поиск отчётов после рассылок по дате
6) Выгрузка отчётов (экспорт в csv или excel)
7) Сменить себе пароль от личного кабинета (но не логин)
8) Статистика онлайн без экспорта отчёта. Можно отразить ввиде: отправлено/доставлено/прочитано

Админка дилера: Для тех, кто хочет иметь много клиентских кабинетов и управлять ими.
А именно:
1) Все права как у клиентского кабинета. Т.е дилер может через свою админку тоже рассылать сообщения.
2) Создавать новых пользователей (клиентские кабинеты). Задавая им логин, пароль, название, id, город, контакты
3) Редактировать данные пользовательские
4) Удалять клиентские кабинеты, блокировать их на время
5) Начислять баланс на любой клиентский кабинет. При этом списание идет с общего баланса дилерской админки.
6) Обнулять баланс любого клиентского кабинета.
7) Поиск и фильтр по клиентским кабинетам. Возможность найти кабинет по id, логину, названию
8) Возможность оплаты за трафик админу из своей дилерской админки (яндекс.деньги и qiwy кошелек)                             -----
9) Менять пароль от своей дилерской учётки
10) Наделять клиентский кабинет правами дилера. При этом такой кабинет остаётся привязанным к нему, а не к главной админке   -----
11) Возможность самостоятельно выставлять стоимость за сообщение для каждого клиентского кабинета
12) Заходить в любой клиентский кабинет без ввода логина и пароля. зайти под клиентом
13) Экспортировать базы номеров из любого клиентского кабинета.                                                              -----
14) Импортировать базу номеров в любой клиентский кабинет.                                                                   -----
Вроде перечислил все пункты.

Главная админка:
1) Доступны все функции
2) Возможность создавать клиентские кабинеты и дилерские админки
3) Закрепление конкретного клиентского кабинета за определенным дилером                                                     -----
4) Возможность выбора цвета (цвет меню, кнопок, шапки сайта, подвала) для себя и для любого клиентского кабинета или дилера -----
5) Закрепление за дилером определенного цвета (цвет меню, кнопок, шапки сайта, подвала).                                    -----
Т.е все клиентские кабинеты дилера будут в назначенном цвете
6) Загрузка логотипа для дилерской админки.
7) Возможность разместить контактные данные дилера, которые будут видны всем его пользователям (клиентским кабинетам)
8) Менять цвет кабинетов и админок, удалять логотип дилерам                                                                 ------
9) Так же любые функции которые есть у дилера и клиентских кабинетов
10) Возможность автоматической привязки личного домена дилера к его админке и клиентским кабинетам (подумать как лучше реализовать)
Т.е брендирование дилерской админки. Чтобы его клиенты не видели наш домен, а только домен дилера.                          rassylka.our-domen.ru
11) Возможность подключения к нескольким поставщикам по API (до 10 поставщиков)                                             ------
12) Возможность генерировать логин, пароль, ключ  - для того чтобы выдать дилеру, если он желает подключиться к нам по API  ------
13) Возможность изменить ключ, логин, пароль для подключения дилера по API                                                  ------
14) Отражение корректных статусов и количества разосланных/доставленных, прочитанных сообщений,
дат, и данных в админке, дилерской админке, клиентских кабинетах

API по Viber я предоставлю когда у вас будет готовы все три типа кабинетов.

При отправке сообщений, они идут по API на Viber и далее возвращают статусы по доставке обратно нам в админку и клиентский кабинет. Нужно: скопировать внешнюю оболочку и сделать её функциональной как на примере (бэкэнд). Далее, после того как всё будет готово, залить на наш хостинг и настроить по API саму работу отправки сообщений. (Сертификация предоставляется нами). Т.е оболочка это лишь часть работы.


Пробраз интерфейса

http://отправить.рус
логин: primer007
пароль: gerunga19

Имя сервера:  vps12482.hyperhost.name
Основной IP адрес:  185.174.173.94
Логин:  root
Пароль:  9a6f30e65538
ssh root@185.174.173.94